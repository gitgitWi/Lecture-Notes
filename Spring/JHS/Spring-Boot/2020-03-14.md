# Spring-Boot Lectures

- mkdate : 2020-07-07

## Spring Boot 개념, Controller

- youtube : 
- lecture date : 2020-03-14

### Spring Boot Starter

*maven project*

#### Dependencies

- Spring Boot DevTools : 저장 시 auto-restart - Chrome extension 'Live Reload'로 활용
- Lombok
- Spring Web

자동으로 다운로드 된 dependencies는 (Windows) c:\user_directory\.m2\repository 에 저장됨

#### `pom.xml`

maven의 dependency 관리 파일

#### `application.properties`

- PROJECT / src / main / resources
- properties 또는 yaml
- `server.port=8080`

### Controller

info-desk 직원 같은 개념

HomeController

- main page에서 request mapping하는 controller는 관례적으로 HomeController로 명명
- controller 의 method 하나하나를 action 이라함

Annotations

- `@Controller`
- `@RequestMapping("/")`
- `@ResponseBody` ; RequestMapping에 대한 Response
- `@RequestParam`
	- `Map<String, Object>`
		- 아래 예시에서 int dan, int limit, String Color 등 Request Parameters를 한번에 Map으로 받아오기 위해
		- 여기서 parameter들이 Object type으로 들어오므로 type casting 필요
		- 브라우저가 JSON 형태로 전달
	- `List<Object>`


```java
@Controller
public class HomeController {

	@RequestMapping("/home/guguDan")
	@ResponseBody
	public String showGuguDan (@RequestParam Map<String, Object> param) {
		String str = "";
		
		int dan = Integer.parseInt( (String) param.get("dan"));
		int limit = Integer.parseInt( (String) param.get("limit"));
		String titleColor = (String) param.get("titleColor");
		String bodyColor = (String) param.get("bodyColor");
		
		if (bodyColor == null || bodyColor.length() == 0) {
			bodyColor = "pink";
		}
		
		str += "<h1 style=\"color:" +titleColor +";\">" + dan + "단</h1>";
		
		for (int i=1; i<= limit; i++) {
			str += "<div style=\"color :" + bodyColor + ";\">" + dan + " * " + i + " = " + dan*i
		}
		
		return str;
	}
	
	@RequestMapping("/home/getMap")
	@ResponseBody
	public Map<String, Object> getMap (@RequestParam Map<String, Object> param) {
		return param;
	}
	
	@RequestMapping("/home/getList")
	@ResponseBody
	public List<Object> getList (@RequestParam Map<String, Object> param) {
		List<Object> l = new ArrayList<>();
		
		// 아래 elements는 브라우저가 string으로 이해
		l.add(10);
		l.add(true);
		l.add("안녕");
		
		// 아래 Map 객체는 브라우저가 JSON type으로 이해
		Map<String, Object> map1 = new HashMap<>();
		map1.put("age", 22);
		map1.put("name", "홍길동");
		l.add(map1);
		
		return l;
	}
}
```